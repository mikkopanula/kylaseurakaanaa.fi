<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Leikekirjat - Liikunta- ja kyläseura Kaanaa ry</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style type="text/css">
    .navbar-brand {
    }
    #su-logo {
      margin-top: -10px;
    }
    #title {
      margin-left: 0px;
    }
    .jumbotron {
      background-image: url('kaanaa.jpg');
      background-repeat: no-repeat;
      background-position: center center;
      background-size: cover;
    }
    #previewImage {
      padding: 4px;
      border: 1px solid black;
    }
    </style>
  </head>
  <body>
<nav class="navbar navbar-inverse">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Avaa/sulje navigaatio</span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#"><img id="su-logo" alt="SU Kaanaa" src="https://s3-eu-west-1.amazonaws.com/www.kylaseurakaanaa.fi/tassuralli/su-kaanaa-logo-2.png"></a>
        </div>
        <p id="title" class="navbar-text navbar-left">Seinäjoen Urheilijat - Kaanaan osasto</p>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <!--<li class="active"><a href="/">Etusivu</a></li>-->
          </ul>
        </div><!-- /.nav-collapse -->
      </div><!-- /.container -->
    </nav><!-- /.navbar -->

    <div class="container">

      <div class="row row-offcanvas row-offcanvas-right">

        <div class="col-xs-12 col-sm-9">
          <p class="pull-right visible-xs">
            <button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas">Näytä linkit</button>
          </p>
          <div class="jumbotron" style="display: none;">
            <h1>SU Kaanaan leikekirjat</h1>
            <p>Tervetuloa selailemaan kylän ja Seinäjoen tapahtumia vuosien varrelta!</p>
          </div>
          <div id="helpAndWelcomeWords">
            <p>Klikkaa oikealta valikosta haluamasi leikekirja.</p>
          </div>
          <div id="imageContent" style="display: none;">
            <nav>
              <h3>Leikekirja vuosilta <span id="bookFromYears"></span></h3>
              <ul class="pagination">
                <li class="prev"><a href="#">Edellinen</a></li>
                <li class="disabled"><a href="#">Kuva <span id="bookCurrentPage"></span> / <span id="bookNumberOfPages"></span></a></li>
                <li class="next"><a href="#">Seuraava</a></li>
              </ul>
            </nav>
            Voit myös navigoida nuolinäppäimillä vasemmalle ja oikealle. Klikkaamalla kuvaa voit avata kuvan täyskokoisen version uuteen välilehteen. Odota hieman sivun vaihdon jälkeen kuvan latautumista.
            <br>
            <br>
            <a alt="Klikkaa kuvaa avataksesi sen täysikokoisena" title="Klikkaa kuvaa avataksesi sen täysikokoisena" target="_blank" id="linkToFullsizeImage" href="#"><img id="previewImage" src=""></a>
          </div>
        </div><!--/.col-xs-12.col-sm-9-->

        <div class="col-xs-6 col-sm-3 sidebar-offcanvas" id="sidebar">
          <div class="list-group">
            <a class="list-group-item" data-target="" href="#">Etusivulle</a>
            <a class="list-group-item" data-target="1946-1966" href="#">1946-1966</a>
            <a class="list-group-item" data-target="1967-1971" href="#">1967-1971</a>
            <a class="list-group-item" data-target="1972-1976" href="#">1972-1976</a>
            <a class="list-group-item" data-target="1977-1979" href="#">1977-1979</a>
            <a class="list-group-item" data-target="1980-1982" href="#">1980-1982</a>
            <a class="list-group-item" data-target="1983-1986" href="#">1983-1986</a>
            <a class="list-group-item" data-target="1987-1990" href="#">1987-1990</a>
            <a class="list-group-item" data-target="1991-1993" href="#">1991-1993</a>
            <a class="list-group-item" data-target="1994-1996" href="#">1994-1996</a>
            <a class="list-group-item" data-target="1997-1998" href="#">1997-1998</a>
            <a class="list-group-item" data-target="1999-2002" href="#">1999-2002</a>
            <a class="list-group-item" data-target="2003-2006" href="#">2003-2006</a>
            <a class="list-group-item" data-target="2007-2010" href="#">2007-2010</a>
            <a class="list-group-item" data-target="2011-2014" href="#">2011-2014</a>
            <a class="list-group-item" data-target="2015-" href="#">2015-</a>
          </div>
        </div><!--/.sidebar-offcanvas-->

      </div><!--/row-->

      <hr>

      <footer>
        <p>&copy; 2016 SU Kaanaa</p>
      </footer>

    </div><!--/.container-->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <script type="text/javascript">
    // Console-polyfill. MIT license.
    // https://github.com/paulmillr/console-polyfill
    // Make it safe to do console.log() always.
    (function(global) {
      'use strict';
      global.console = global.console || {};
      var con = global.console;
      var prop, method;
      var dummy = function() {};
      var properties = ['memory'];
      var methods = ('assert,clear,count,debug,dir,dirxml,error,exception,group,' +
         'groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,' +
         'show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn').split(',');
      while (prop = properties.pop()) if (!con[prop]) con[prop] = {};
      while (method = methods.pop()) if (typeof con[method] !== 'function') con[method] = dummy;
      // Using `this` for web workers & supports Browserify / Webpack.
    })(typeof window === 'undefined' ? this : window);

    var books = {
      "1946-1966": {
        numPages: 85
      },
      "1967-1971": {
        numPages: 59
      },
      "1972-1976": {
        numPages: 67
      },
      "1977-1979": {
        numPages: 82
      },
      "1980-1982": {
        numPages: 58
      },
      "1983-1986": {
        numPages: 72
      },
      "1987-1990": {
        numPages: 73
      },
      "1991-1993": {
        numPages: 86
      },
      "1994-1996": {
        numPages: 121
      },
      "1997-1998": {
        numPages: 91
      },
      "1999-2002": {
        numPages: 146
      },
      "2003-2006": {
        numPages: 111
      },
      "2007-2010": {
        numPages: 71
      },
      "2011-2014": {
        numPages: 76
      },
      "2015-": {
        numPages: 15
      }
    }
    var currentBook = undefined;
    var currentPage = 1;

    function showFrontPage() {
      console.log("showFrontPage");
      $('.jumbotron').show();
      $('#helpAndWelcomeWords').show();
      $('#imageContent').hide();
      currentBook = undefined;
      currentPage = 1;
    }

    function showBook(book) {
      console.log("showBook: " + book);
      currentBook = book;
      currentPage = 1;
      setImage(currentPage);
      $('.jumbotron').hide();
      $('#helpAndWelcomeWords').hide();
      $('#imageContent').show();
      $('#bookFromYears').text(book);
      $('#bookNumberOfPages').text(books[currentBook].numPages);
    }

    function showContentByHash() {
      var hash = window.location.hash;
      if (hash.indexOf("#") == 0) {
        hash = hash.substring(1);
      }

      console.log("showContentByHash: "+hash);
      if (hash === "") {
        showFrontPage();
      } else {
        showBook(hash);
      }
    }

    function updatePagination() {
      var numPages = books[currentBook].numPages;
      $('.pagination .prev').toggleClass('disabled', currentPage == 1);
      $('.pagination .next').toggleClass('disabled', currentPage == numPages);
      $('#bookCurrentPage').text(currentPage);
    }

    function setImage(image) {
      var previewURL = getImageURL(currentBook, image, true);
      var imageURL = getImageURL(currentBook, image, false);
      $('#previewImage').attr('src', previewURL);
      $('#linkToFullsizeImage').attr('href', imageURL);
      updatePagination();
    }

    function getImageURL(book, image, preview) {
      if (!preview) {
        preview = ""
      } else {
        preview = "esikatselu/"
      }
      return "https://s3-eu-west-1.amazonaws.com/www.kylaseurakaanaa.fi/Leikekirjat/" + book + "/" + preview + image + ".jpg";
    }

    function bindSideBarLinks() {
      $('#sidebar .list-group-item').click(function (e) {
        var target = $(e.target).data('target');
        mixpanel.track(
          "Book changed",
          {"book": target}
        );
        window.location.hash = target;
        showContentByHash();
      });
    }

    function previousPage() {
      mixpanel.track(
        "Next page", {
          "book": currentBook,
          "page": currentPage
        }
      );
      if (currentPage > 1) {
        currentPage -= 1;
        setImage(currentPage);
      }
      updatePagination();
    }

    function nextPage() {
      mixpanel.track(
        "Previous page", {
          "book": currentBook,
          "page": currentPage
        }
      );
      if (currentPage < books[currentBook].numPages) {
        currentPage += 1;
        setImage(currentPage);
      }
      updatePagination();
    }

    function bindPaginationButtons() {
      $('.pagination .prev').click(previousPage);
      $('.pagination .next').click(nextPage);
      $(document).keydown(function(e) {
        switch(e.which) {
            case 37: // left
              previousPage()
              break;
            case 39: // right
              nextPage();
              break;
            default: return;
          }
          e.preventDefault();
      });
    }

    $(function () {
      mixpanel.track(
          "Page loaded",
          {"referrer": document.referrer}
      );
      console.log("loaded");
      showContentByHash();
      bindSideBarLinks();
      bindPaginationButtons();
    });
    </script>
    <!-- start Mixpanel --><script type="text/javascript">(function(e,b){if(!b.__SV){var a,f,i,g;window.mixpanel=b;b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=e.createElement("script");a.type="text/javascript";a.async=!0;a.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";f=e.getElementsByTagName("script")[0];f.parentNode.insertBefore(a,f)}})(document,window.mixpanel||[]);
mixpanel.init("977875604621cc1ff2acbd9ab617a7f7");</script><!-- end Mixpanel -->
  </body>
</html>
